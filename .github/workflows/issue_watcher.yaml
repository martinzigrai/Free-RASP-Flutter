name: Issue watcher
on:
  workflow_dispatch:
  schedule:
    # Date follows the cron syntax: https://en.wikipedia.org/wiki/Cron
    # Every Monday at 6:30 AM
    - cron: '30 6 * * 1'

jobs:
  close-issues:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - uses: actions/stale@v9.0.0
        with:
          days-before-issue-stale: 14
          stale-issue-message: |
            Hello!
            This issue has been marked as inactive. If there is no further activity within the next 14 days, this issue will be automatically closed.
            If you believe this issue is still relevant and requires attention, please comment or provide additional information.
          stale-issue-label: "stale"
          days-before-issue-close: 14
          close-issue-message: |
            Hello!
            This issue has been closed. If you believe this issue is still relevant and requires attention, please reopen the issue.
          any-of-issue-labels: "waiting for response,can't reproduce,invalid,wontfix,duplicate"
